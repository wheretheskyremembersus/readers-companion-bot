<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Our Story ‚Äî Readers‚Äô Companion</title>

<style>
/* =========================
   GLOBAL PAGE (Canva-like)
========================= */
body {
  margin: 0;
  font-family: "Palatino Linotype", Palatino, "Book Antiqua", serif;
  background: linear-gradient(
    to bottom,
    #bfc2c4 0%,
    #e4e6e7 35%,
    #ffffff 100%
  );
  color: #222;
}

.page-wrapper {
  max-width: 1200px;
  margin: 0 auto;
  padding: 60px 40px 80px;
}

/* =========================
   TWO-COLUMN LAYOUT
========================= */
.layout {
  display: grid;
  grid-template-columns: 520px 1fr;
  gap: 80px;
  align-items: flex-start;
}

/* =========================
   HEADER
========================= */
.page-header {
  margin-bottom: 32px;
}

.page-header h1 {
  font-size: 22px;
  font-weight: normal;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: #555;
  margin: 0 0 10px 0;
}

.page-header p {
  margin: 0;
  font-size: 15px;
  color: #777;
}

/* =========================
   BOT SHELL
========================= */
.bot-shell {
  background: #ffffff;
  border-radius: 16px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.18);
  padding: 24px;
}

.chat-body {
  max-height: 420px;
  overflow-y: auto;
  font-size: 15px;
  line-height: 1.7;
}

.message {
  margin-bottom: 18px;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

/* =========================
   QUESTION DOCK
========================= */
.question-dock {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #eee;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.btn {
  padding: 6px 14px;
  border-radius: 16px;
  font-size: 13px;
  border: 1px solid #ddd;
  background: #fff;
  cursor: pointer;
}

.btn:disabled {
  opacity: 0.45;
  cursor: default;
}

.saira {
  box-shadow: 0 0 10px rgba(255,180,120,0.55);
}

.aayan {
  box-shadow: 0 0 10px rgba(120,180,255,0.55);
}

/* =========================
   PERMISSION PROMPT
========================= */
.reflection-prompt {
  background: #f6f1ea;
  border-left: 3px solid #d8cfc3;
  padding: 14px 16px;
  border-radius: 8px;
}

/* =========================
   TRUST PANEL (RIGHT)
========================= */
.right-column h2 {
  font-size: 22px;
  font-weight: normal;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  margin: 0 0 18px;
}

.right-column h2.spaced {
  margin-top: 48px;
}

.right-column h3 {
  font-size: 13px;
  letter-spacing: 0.12em;
  margin: 0 0 6px;
}

.right-column p {
  font-size: 15px;
  line-height: 1.7;
  margin: 0 0 18px;
}

/* =========================
   FOOTER
========================= */
.page-footer {
  margin-top: 80px;
  font-size: 13px;
  color: #888;
}

/* =========================
   MOBILE
========================= */
@media (max-width: 900px) {
  .layout {
    grid-template-columns: 1fr;
    gap: 60px;
  }
}
</style>
</head>

<body>

<div class="page-wrapper">

  <!-- HEADER -->
  <div class="page-header">
    <h1>Our Story</h1>
    <p>A quiet companion space for <em>Where The Sky Remembers Us</em>.</p>
  </div>

  <div class="layout">

    <!-- LEFT: BOT -->
    <div class="left-column">
      <div class="bot-shell">
        <div class="chat-body" id="chatBody"></div>
        <div class="question-dock" id="questionDock"></div>
      </div>
    </div>

    <!-- RIGHT: TRUST / CONTACT -->
    <div class="right-column">
      <h2>Reach Out to the Author</h2>

      <h3>WEBSITE</h3>
      <p>www.wheretheskyremembersus.com</p>

      <h2 class="spaced">Privacy Note</h2>
      <p>
        We value your privacy. Information you share through our feedback form‚Äî
        such as your name, email, or message‚Äîis used solely to understand and
        respond to your feedback. We do not use cookies, trackers, or third-party tools.
      </p>

      <p>
        For any questions, contact us at:<br>
        <strong>wheretheskyremembersus@gmail.com</strong>
      </p>

      <h2 class="spaced">Communication Address</h2>
      <p>
        PO Box : 10<br>
        General Post Office<br>
        Shillong 793001<br>
        Meghalaya, India
      </p>
    </div>

  </div>

  <div class="page-footer">
  ¬© 2026 Mohan R.  
  <br>
  <em>Where The Sky Remembers Us</em>. All rights reserved.
</div>

</div>

<!-- FORM (hidden) -->
<form id="reflectionForm" action="https://formspree.io/f/xaqdqobr" method="POST" style="display:none;">
  <input type="hidden" name="voice" id="formVoice">
  <input type="hidden" name="reflection_1" id="r1">
  <input type="hidden" name="reflection_2" id="r2">
  <input type="hidden" name="reflection_3" id="r3">
  <input type="hidden" name="timestamp" id="formTime">
</form>

<script>
/* =========================
   STATE
========================= */
const chatBody = document.getElementById("chatBody");
const dock = document.getElementById("questionDock");

let activeVoice = null;
let foundationalAnswered = new Set();
let characterAnsweredCount = 0;
let currentLayer = 0;
let reflections = [];
let reflectionStep = 0;
let reflectionStarted = false;

/* =========================
   HELPERS
========================= */
function autoScroll() {
  chatBody.scrollTo({ top: chatBody.scrollHeight, behavior: "smooth" });
}

function returnToWebsite() {
  window.location.href = "https://wheretheskyremembersus.com";
}

/* =========================
   INIT
========================= */
function loadWelcome() {
  chatBody.innerHTML = `
    <div class="message">
      <p>Hello.</p>
      <p>This is a quiet space.</p>
      <p>You can listen to our story through Saira or Aayan.</p>
      <p>Our story is a contemporary romantic fiction.</p>
      <p>When you‚Äôre ready, you can choose a voice.</p>
    </div>
  `;
  dock.innerHTML = `
    <button class="btn saira" onclick="selectVoice('saira')">Saira</button>
    <button class="btn aayan" onclick="selectVoice('aayan')">Aayan</button>
  `;
  autoScroll();
}

/* =========================
   VOICE SELECTION
========================= */
function selectVoice(v) {
  activeVoice = v;

  const intro =
    v === "saira"
      ? "Hello, this is Saira. I don‚Äôt believe stories are meant to be explained too quickly ‚Äî but I can sit with you and share what ours carries."
      : "Hello. This is Aayan. I don‚Äôt speak easily about what stayed behind, but I can tell you what it asked of us.";

  chatBody.insertAdjacentHTML(
    "beforeend",
    `<div class="message"><p><strong>${intro}</strong></p></div>`
  );

  showFoundationalQuestions();
  autoScroll();
}

/* =========================
   FOUNDATIONAL QUESTIONS
========================= */
function showFoundationalQuestions() {
  const questions = [
    ["What kind of story is this?", "story"],
    ["What is the story about?", "about"],
    ["Who is this story for?", "for"],
    ["Where can I read it?", "where"],
    ["Who is the author?", "author"]
  ];

  dock.innerHTML = "";

  questions.forEach(q => {
    const b = document.createElement("button");
    b.className = `btn ${activeVoice}`;
    b.textContent = q[0];
    b.onclick = () => answerFoundational(q[1], b);
    dock.appendChild(b);
  });
}

function answerFoundational(type, btn) {
  btn.disabled = true;
  foundationalAnswered.add(type);

  const replies = {
    saira: {
      story: "Our story is a contemporary romantic fiction, shaped by moments that arrive quietly and stay longer than expected.",
      about: "It‚Äôs about me and Aayan ‚Äî about love, distance, memory, and the choices we carry with us.",
      for: "This story often finds readers who value reflection, atmosphere, and emotional honesty.",
      where: "You can read it as a Kindle eBook, Paperback, Hardcover, or Audio edition.",
      author: "Mohan R. wrote this as his debut novel, drawing from lived emotion, travel, and quiet observation."
    },
    aayan: {
      story: "It‚Äôs a contemporary romantic fiction, but it stays where love and responsibility pull in different directions.",
      about: "It‚Äôs about timing. About knowing something matters deeply, and still choosing carefully.",
      for: "This story speaks to readers who understand that not every connection arrives neatly or resolves cleanly.",
      where: "The story is available in digital, print, and audio formats.",
      author: "Mohan R. wrote this story to sit honestly with complicated love and unanswered questions."
    }
  };

  chatBody.insertAdjacentHTML(
    "beforeend",
    `<div class="message"><p>${replies[activeVoice][type]}</p></div>`
  );

  autoScroll();

  if (foundationalAnswered.size === 5) {
    unlockNextLayer();
  }
}

/* =========================
   CHARACTER LAYERS (12)
========================= */

const characterLayers = [
  [
    ["Where did you first meet?","We met in Mumbai. The city moved fast, but that moment felt still."],
    ["What did you first notice?","Presence. Listening. Something steady."],
    ["When did it feel different?","Not sudden ‚Äî just a quiet shift that stayed."],
    ["Which city began it all?","Mumbai. Restless, imperfect, unforgettable."]
  ],
  [
    ["Did you ever question it?","Love makes doubt more complicated, not smaller."],
    ["Were you ever afraid?","Yes. Love asks you to surrender control."],
    ["Your happiest moment?","A quiet night before leaving Goa ‚Äî nothing grand, just peace."],
    ["What stayed the longest?","The moments we almost said goodbye."]
  ],
  [
    ["Did you meet again?","Some meetings don‚Äôt need witnesses to be real."],
    ["Is there more?","Stories don‚Äôt end. They change shape."],
    ["Will there be a part two?","Some stories continue only when they‚Äôre meant to."],
    ["Do you still think of each other?","Some people don‚Äôt leave. They simply change rooms."]
  ]
];

function unlockNextLayer() {
  if (currentLayer >= 3) return;

  if (currentLayer > 0) {
    chatBody.insertAdjacentHTML(
      "beforeend",
      `<div class="message"><p>There‚Äôs more, if you‚Äôd like to continue.</p></div>`
    );
  }

  const layer = characterLayers[currentLayer];
  layer.forEach(item => {
    const b = document.createElement("button");
    b.className = `btn ${activeVoice}`;
    b.textContent = item[0];
    b.onclick = () => answerCharacter(item[1], b);
    dock.appendChild(b);
  });

  currentLayer++;
  autoScroll();
}

function answerCharacter(reply, btn) {
  btn.disabled = true;
  characterAnsweredCount++;

  chatBody.insertAdjacentHTML(
    "beforeend",
    `<div class="message"><p>${reply}</p></div>`
  );

  autoScroll();

  if (characterAnsweredCount === 4 || characterAnsweredCount === 8) {
    unlockNextLayer();
  }

  if (characterAnsweredCount === 12) {
    showAuthorInvitation();
  }
}

/* =========================
   AUTHOR INVITATION
========================= */

function showAuthorInvitation() {
  chatBody.insertAdjacentHTML(
    "beforeend",
    `<div class="message">
      <p>You‚Äôve stayed with us until the end.</p>
      <p>If you‚Äôd like to write to the author, you‚Äôre welcome to. He sometimes shares digital copies with thoughtful readers.</p>
      <p><strong>wheretheskyremembersus@gmail.com</strong></p>
      <p><em>Before you leave, may I ask you three quiet reflections?</em></p>
    </div>`
  );

  dock.innerHTML = `
    <button class="btn ${activeVoice}" onclick="startReflection()">Yes</button>
    <button class="btn" onclick="declineReflection()">No</button>
  `;

  autoScroll();
}

/* =========================
   REFLECTION
========================= */

function declineReflection() {
  dock.innerHTML = "";
  chatBody.insertAdjacentHTML(
    "beforeend",
    `<div class="message">
      <p>${activeVoice === "saira" ? "Thank you for sitting with us." : "Thank you for staying."}</p>
      <button class="btn" onclick="returnToWebsite()">Return to the main site</button>
    </div>`
  );
  autoScroll();
}

function startReflection() {
  reflections = [];
  reflectionStep = 0;
  nextReflection();
}

function nextReflection() {

  const sets = {
    saira: [
      ["How closely did this story stay with you?", ["üå´Ô∏è","üå±","üíõ","üåô","‚ú®"]],
      ["How clearly did the emotions feel?", ["üå´Ô∏è","üå±","üíõ","üåô","‚ú®"]],
      ["How drawn do you feel to continue?", ["üö∂","üëÄ","üí´","‚ù§Ô∏è","üìñ"]]
    ],
    aayan: [
      ["How clearly did the emotional world reveal itself to you?", ["üåë","üåò","üåó","üåï","‚òÄÔ∏è"]],
      ["How steady did the story feel?", ["üåë","üåò","üåó","üåï","‚òÄÔ∏è"]],
      ["How drawn do you feel to continue reading?", ["üö∂","üëÄ","üí´","‚ù§Ô∏è","üìñ"]]
    ]
  };

  if (reflectionStep === 3) {
    submitReflection();
    return;
  }

  const [q, emojis] = sets[activeVoice][reflectionStep];

  chatBody.insertAdjacentHTML(
    "beforeend",
    `<div class="message"><p>${q}</p></div>`
  );

  dock.innerHTML = "";

  emojis.forEach(e => {
    const b = document.createElement("button");
    b.className = `btn ${activeVoice}`;
    b.textContent = e;
    b.onclick = () => {
      reflections.push(e);
      reflectionStep++;
      nextReflection();
    };
    dock.appendChild(b);
  });

  autoScroll();
}

/* =========================
   SUBMIT
========================= */

function submitReflection() {
  document.getElementById("formVoice").value = activeVoice;
  document.getElementById("r1").value = reflections[0];
  document.getElementById("r2").value = reflections[1];
  document.getElementById("r3").value = reflections[2];
  document.getElementById("formTime").value = new Date().toISOString();
  document.getElementById("reflectionForm").submit();

  dock.innerHTML = "";

  chatBody.insertAdjacentHTML(
    "beforeend",
    `<div class="message">
      <p>${activeVoice === "saira" ? "Thank you for sitting with us." : "Thank you for staying."}</p>
      <button class="btn" onclick="returnToWebsite()">Return to the main site</button>
    </div>`
  );

  autoScroll();
}

/* =========================
   START
========================= */

loadWelcome();
</script>
